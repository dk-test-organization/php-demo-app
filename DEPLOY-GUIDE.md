# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è –Ω–∞ Timeweb —á–µ—Ä–µ–∑ GitHub Actions

## ‚úÖ –†–∞–±–æ—á–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª `.github/workflows/deploy.yml`

```yaml
name: Deploy to Timeweb

on:
  push:
    branches:
      - master

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v3

    - name: Deploy to server via FTP
      uses: SamKirkland/FTP-Deploy-Action@4.3.0
      with:
        server: vh314.timeweb.ru
        username: ${{ secrets.FTP_USERNAME }}
        password: ${{ secrets.FTP_PASSWORD }}
        server-dir: ${{ secrets.DEPLOY_PATH }}/
```

### GitHub Secrets (Settings ‚Üí Secrets and variables ‚Üí Actions)

| –°–µ–∫—Ä–µ—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|--------|----------|
| `FTP_USERNAME` | `co89321_wdc` |
| `FTP_PASSWORD` | `Rd220911` |
| `DEPLOY_PATH` | `test/github_cc_autodeploy` |

### ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ!

**–ü—É—Ç—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º, –ë–ï–ó –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–ª—ç—à–∞ `/`**

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**: `test/github_cc_autodeploy`
‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**: `/test/github_cc_autodeploy`
‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**: `/home/c/co89321/test/github_cc_autodeploy`

## üìä –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ—à–µ–Ω–∏–π

### –ü—Ä–æ–±–ª–µ–º–∞ #1: SSH/SFTP –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

**–ü–æ–ø—ã—Ç–∫–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `appleboy/scp-action` –∏ `wlixcc/SFTP-Deploy-Action` —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º `co89321_wdc`

**–û—à–∏–±–∫–∞**:
```
ssh: handshake failed: ssh: unable to authenticate
Permission denied, please try again
```

**–ü—Ä–∏—á–∏–Ω–∞**:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `co89321_wdc` –Ω–µ –∏–º–µ–µ—Ç SSH –¥–æ—Å—Ç—É–ø–∞
- –¢–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `co89321` –∏–º–µ–µ—Ç SSH –¥–æ—Å—Ç—É–ø
- –£ –Ω–∞—Å –Ω–µ—Ç –ø–∞—Ä–æ–ª—è –æ—Ç `co89321`

**–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∫–ª—é—á–∏–ª–∏—Å—å –Ω–∞ FTP –≤–º–µ—Å—Ç–æ SSH/SFTP

---

### –ü—Ä–æ–±–ª–µ–º–∞ #2: FTP Connection Timeout

**–ü–æ–ø—ã—Ç–∫–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `SamKirkland/FTP-Deploy-Action` –Ω–∞ –ø–æ—Ä—Ç—É 21

**–û—à–∏–±–∫–∞**:
```
Error: connect ETIMEDOUT 176.57.210.144:21
Failed to connect, are you sure your server works via FTP or FTPS?
```

**–ü—Ä–∏—á–∏–Ω–∞**:
- GitHub Actions –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞ FTP –ø–æ—Ä—Ç 21
- –≠—Ç–æ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å —Å–µ—Ç–µ–≤—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ GitHub

**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–∏–ª–∞—Å—å —Å–∞–º–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∞—Ö
- FTP –ø–æ—Ä—Ç 21 –∏–Ω–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏–Ω–æ–≥–¥–∞ –Ω–µ—Ç –∏–∑ GitHub Actions

---

### –ü—Ä–æ–±–ª–µ–º–∞ #3: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–µ–ø–ª–æ—è

**–ü–æ–ø—ã—Ç–∫–∞**: –ü—É—Ç—å `DEPLOY_PATH = /home/c/co89321/test/github_deploy`

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –§–∞–π–ª—ã –æ–∫–∞–∑–∞–ª–∏—Å—å –≤ `/home/c/co89321/public_html/C:/Program Files/Git/home/c/co89321/test/github_deploy`

**–ü—Ä–∏—á–∏–Ω–∞**:
1. GitHub Actions runner —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Linux
2. –ü—É—Ç—å –Ω–∞—á–∏–Ω–∞—é—â–∏–π—Å—è —Å `/` –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π POSIX –ø—É—Ç—å
3. FTP —Å–µ—Ä–≤–µ—Ä Timeweb —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `co89321_wdc`
4. –ö–æ—Ä–µ–Ω—å FTP –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `/home/c/co89321/public_html/`
5. Git Bash –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–±–∞–≤–∏–ª Windows-–ø—Ä–µ—Ñ–∏–∫—Å `C:/Program Files/Git/` –∫ –ø—É—Ç–∏

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –±–µ–∑ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ `/`

---

### –ü—Ä–æ–±–ª–µ–º–∞ #4: FTP vs SFTP –ø—É—Ç–∞–Ω–∏—Ü–∞

**–ü–æ–ø—ã—Ç–∫–∞**: –†–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å FTP, FTPS, SFTP

**–û—à–∏–±–∫–∏**:
- `airvzxf/ftp-deployment-action` - –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –∑–∞–≤–∏—Å–∞–Ω–∏–µ
- –†–∞–∑–ª–∏—á–Ω—ã–µ timeout'—ã –∏ connection refused

**–ü—Ä–∏—á–∏–Ω–∞**:
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ FTP actions —Ç—Ä–µ–±—É—é—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Timeweb
- –ù–µ –≤—Å–µ actions –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏–º–∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞–º–∏
- SFTP —Ç—Ä–µ–±—É–µ—Ç SSH –¥–æ—Å—Ç—É–ø, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è `co89321_wdc`

**–†–µ—à–µ–Ω–∏–µ**: `SamKirkland/FTP-Deploy-Action@4.3.0` –æ–∫–∞–∑–∞–ª—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–º

---

## üéØ –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ß—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ:

1. **–ü—Ä–æ—Ç–æ–∫–æ–ª**: FTP (–Ω–µ SFTP, –Ω–µ SSH)
2. **Action**: `SamKirkland/FTP-Deploy-Action@4.3.0`
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: `co89321_wdc` (FTP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
4. **–ü—É—Ç—å**: `test/github_cc_autodeploy` (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π, –±–µ–∑ `/`)
5. **–°–µ—Ä–≤–µ—Ä**: `vh314.timeweb.ru`

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—É—Ç—å:

```
FTP –∫–æ—Ä–µ–Ω—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è co89321_wdc:
/home/c/co89321/public_html/

–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –≤ DEPLOY_PATH:
test/github_cc_autodeploy

–ò—Ç–æ–≥–æ–≤—ã–π –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
/home/c/co89321/public_html/test/github_cc_autodeploy/
```

### –ü–æ—á–µ–º—É –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å:

- **–ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å** (`/test/...`) ‚Üí –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ POSIX –ø—É—Ç—å ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è Windows –ø—Ä–µ—Ñ–∏–∫—Å ‚Üí —Ñ–∞–π–ª—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ
- **–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å** (`test/...`) ‚Üí –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç FTP –∫–æ—Ä–Ω—è ‚Üí —Ñ–∞–π–ª—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ

---

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é

### 1. –°–æ–∑–¥–∞–π—Ç–µ workflow —Ñ–∞–π–ª

```bash
mkdir -p .github/workflows
```

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.github/workflows/deploy.yml` —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–†–∞–±–æ—á–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ GitHub Secrets

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
3. –ù–∞–∂–º–∏—Ç–µ **New repository secret** –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç—Ä–∏ —Å–µ–∫—Ä–µ—Ç–∞:
   - `FTP_USERNAME` = `co89321_wdc`
   - `FTP_PASSWORD` = `Rd220911`
   - `DEPLOY_PATH` = `test/github_cc_autodeploy`

### 3. –°–æ–∑–¥–∞–π—Ç–µ —Ü–µ–ª–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ß–µ—Ä–µ–∑ FileZilla —Å–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫:
```
/test/
  ‚îî‚îÄ github_cc_autodeploy/
```

### 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –¥–µ–ø–ª–æ–π

```bash
git add .github/workflows/deploy.yml
git commit -m "Add auto-deployment workflow"
git push origin master
```

### 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Actions** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è workflow
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ FileZilla –≤ `/test/github_cc_autodeploy/`

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

–í –ª–æ–≥–∞—Ö GitHub Actions –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
üéâ Sync complete. Saving current server state
Time spent deploying: XX seconds
```

### –ï—Å–ª–∏ –¥–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã**: Settings ‚Üí Secrets ‚Üí —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ 3 —Å–µ–∫—Ä–µ—Ç–∞ —Å–æ–∑–¥–∞–Ω—ã
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å**: `DEPLOY_PATH` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ë–ï–ó –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ `/`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ FTP –¥–æ—Å—Ç—É–ø**: –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å —á–µ—Ä–µ–∑ FileZilla —Å —Ç–µ–º–∏ –∂–µ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**: Actions ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ø—É—Å–∫ ‚Üí —Å–º–æ—Ç—Ä–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

| –û—à–∏–±–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|---------|
| `ETIMEDOUT port 21` | GitHub –±–ª–æ–∫–∏—Ä—É–µ—Ç FTP | –ü–æ–¥–æ–∂–¥–∏—Ç–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ |
| `Permission denied` | SSH –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ FTP, –Ω–µ SFTP |
| –§–∞–π–ª—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ | –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å —Å `/` | –£–±–µ—Ä–∏—Ç–µ `/` –∏–∑ –Ω–∞—á–∞–ª–∞ –ø—É—Ç–∏ |
| `Authentication failed` | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã |

---

## üí° –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏** - –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ —Ñ–∞–π–ª—ã
2. **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–ø–ª–æ–∏ –±—ã—Å—Ç—Ä–µ–µ** - –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. **–§–∞–π–ª `.ftp-deploy-sync-state.json`** —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. **–î–µ–ø–ª–æ–π —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ push –≤ master** - –¥—Ä—É–≥–∏–µ –≤–µ—Ç–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
5. **–ü–∞—Ä–æ–ª–∏ –≤ –ª–æ–≥–∞—Ö —Å–∫—Ä—ã—Ç—ã** - GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Å–∫–∏—Ä—É–µ—Ç —Å–µ–∫—Ä–µ—Ç—ã –∫–∞–∫ `***`

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–∂–¥—ã–π `git push origin master` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ó–∞–ø—É—Å–∫–∞–µ—Ç GitHub Actions workflow
2. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ FTP
3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
5. –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∑–∞ ~15-20 —Å–µ–∫—É–Ω–¥

–¢–µ–ø–µ—Ä—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ Timeweb! üöÄ
